(this.webpackJsonpwalleyworks=this.webpackJsonpwalleyworks||[]).push([[13],{1319:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var r=a(2),n=a(28),c=a(94),i=a.n(c),o=a(121),s=a(312),l=a(1221),u=a(37),d=a(1337),b=a(0),j=["links","activeLast"];function p(e){var t=e.links,a=e.activeLast,c=void 0!==a&&a,i=Object(n.a)(e,j),l=t[t.length-1].name,u=t.map((function(e){return Object(b.jsx)(m,{link:e},e.name)})),p=t.map((function(e){return Object(b.jsx)("div",{children:e.name!==l?Object(b.jsx)(m,{link:e}):Object(b.jsx)(s.a,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:l})},e.name)}));return Object(b.jsx)(d.a,Object(r.a)(Object(r.a)({separator:Object(b.jsx)(o.a,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},i),{},{children:c?u:p}))}function m(e){var t=e.link,a=t.href,r=t.name,n=t.icon;return Object(b.jsxs)(l.a,{variant:"body2",component:u.b,to:a||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[n&&Object(b.jsx)(o.a,{sx:{mr:1,"& svg":{width:20,height:20}},children:n}),r]},r)}var g=["links","action","heading","moreLink","sx"];function h(e){var t=e.links,a=e.action,c=e.heading,u=e.moreLink,d=void 0===u?[]:u,j=e.sx,m=Object(n.a)(e,g);return Object(b.jsxs)(o.a,{sx:Object(r.a)({mb:5},j),children:[Object(b.jsxs)(o.a,{sx:{display:"flex",alignItems:"center"},children:[Object(b.jsxs)(o.a,{sx:{flexGrow:1},children:[Object(b.jsx)(s.a,{variant:"h4",gutterBottom:!0,children:c}),Object(b.jsx)(p,Object(r.a)({links:t},m))]}),a&&Object(b.jsx)(o.a,{sx:{flexShrink:0},children:a})]}),Object(b.jsx)(o.a,{sx:{mt:2},children:i()(d)?Object(b.jsx)(l.a,{href:d,target:"_blank",rel:"noopener",variant:"body2",children:d}):d.map((function(e){return Object(b.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},1337:function(e,t,a){"use strict";var r=a(14),n=a(13),c=a(4),i=a(3),o=a(7),s=a(1),l=(a(201),a(8),a(11)),u=a(166),d=a(6),b=a(15),j=a(312),p=a(52),m=a(48),g=a(0),h=Object(m.a)(Object(g.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),O=a(1215),x=Object(d.a)(O.a,{skipSx:!0})((function(e){var t=e.theme;return Object(i.a)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":Object(i.a)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":Object(i.a)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:Object(p.c)(t.palette.grey[200],.12)}:{backgroundColor:Object(p.c)(t.palette.grey[600],.12)})})})),f=Object(d.a)(h)({width:24,height:16});var v=function(e){var t=e;return Object(g.jsx)("li",{children:Object(g.jsx)(x,Object(i.a)({focusRipple:!0},e,{ownerState:t,children:Object(g.jsx)(f,{ownerState:t})}))})},y=a(99),k=a(111);function w(e){return Object(y.a)("MuiBreadcrumbs",e)}var I=Object(k.a)("MuiBreadcrumbs",["root","ol","li","separator"]),S=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=Object(d.a)(j.a,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return[Object(c.a)({},"& .".concat(I.li),t.li),t.root]}})({}),P=Object(d.a)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),R=Object(d.a)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function z(e,t,a,r){return e.reduce((function(n,c,i){return i<e.length-1?n=n.concat(c,Object(g.jsx)(R,{"aria-hidden":!0,className:t,ownerState:r,children:a},"separator-".concat(i))):n.push(c),n}),[])}var L=s.forwardRef((function(e,t){var a=Object(b.a)({props:e,name:"MuiBreadcrumbs"}),c=a.children,d=a.className,j=a.component,p=void 0===j?"nav":j,m=a.expandText,h=void 0===m?"Show path":m,O=a.itemsAfterCollapse,x=void 0===O?1:O,f=a.itemsBeforeCollapse,y=void 0===f?1:f,k=a.maxItems,I=void 0===k?8:k,R=a.separator,L=void 0===R?"/":R,N=Object(o.a)(a,S),B=s.useState(!1),D=Object(n.a)(B,2),M=D[0],T=D[1],A=Object(i.a)({},a,{component:p,expanded:M,expandText:h,itemsAfterCollapse:x,itemsBeforeCollapse:y,maxItems:I,separator:L}),U=function(e){var t=e.classes;return Object(u.a)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},w,t)}(A),E=s.useRef(null),q=s.Children.toArray(c).filter((function(e){return s.isValidElement(e)})).map((function(e,t){return Object(g.jsx)("li",{className:U.li,children:e},"child-".concat(t))}));return Object(g.jsx)(C,Object(i.a)({ref:t,component:p,color:"text.secondary",className:Object(l.a)(U.root,d),ownerState:A},N,{children:Object(g.jsx)(P,{className:U.ol,ref:E,ownerState:A,children:z(M||I&&q.length<=I?q:function(e){return y+x>=e.length?e:[].concat(Object(r.a)(e.slice(0,y)),[Object(g.jsx)(v,{"aria-label":h,onClick:function(){T(!0);var e=E.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],Object(r.a)(e.slice(e.length-x,e.length)))}(q),U.separator,L,A)})}))}));t.a=L},1455:function(e,t,a){"use strict";var r=a(29),n=a(18),c=a.n(n),i=a(19),o=a(452),s=a(436),l=(a(44),a(31)),u=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var r,n,u,d,b,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/api/product/categories");case 3:return r=e.sent,n=r.data.categories,Object(i.a)(Object(o.b)(n)),e.next=8,l.a.get("/api/product/sizes");case 8:return r=e.sent,u=r.data.sizes,Object(i.a)(Object(o.c)(u)),e.next=13,l.a.get("/api/product/tags");case 13:if(r=e.sent,d=r.data.tags,Object(i.a)(Object(o.d)(d)),!t){e.next=27;break}return e.next=19,l.a.post("/api/product/userCategories");case 19:return r=e.sent,b=r.data.userCategories,Object(i.a)(Object(o.e)(b)),e.next=24,l.a.get("/api/account/general");case 24:r=e.sent,j=r.data.account,Object(i.a)(Object(s.d)(j));case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:a();case 33:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t,a){return e.apply(this,arguments)}}();t.a=u},1632:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var r=a(29),n=a(13),c=a(2),i=a(18),o=a.n(i),s=a(236),l=a(238),u=a(35),d=a(1),b=a(39),j=a(422),p=a(6),m=a(1292),g=a(312),h=a(1294),O=a(1313),x=a(1203),f=a(2099),v=a(2020),y=a(1286),k=a(1307),w=a(25),I=a(202),S=a(19),C=a(31),P=a(1284),R=a(52),z=a(121),L=a(62),N=(a(1455),a(0)),B=Object(p.a)("div")((function(e){return{right:0,bottom:0,zIndex:99999,width:"100%",height:"100%",position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.theme.palette.background.default}}));function D(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(B,{children:[Object(N.jsx)(P.a.div,{initial:{rotateY:0},animate:{rotateY:360},transition:{duration:2,ease:"easeInOut",repeatDelay:1,repeat:1/0},children:Object(N.jsx)(L.a,{disabledLink:!0,sx:{width:64,height:64}})}),Object(N.jsx)(z.a,{component:P.a.div,animate:{scale:[1.2,1,1,1.2,1.2],rotate:[270,0,0,270,270],opacity:[.25,1,1,1,.25],borderRadius:["25%","25%","50%","50%","25%"]},transition:{ease:"linear",duration:3.2,repeat:1/0},sx:{width:100,height:100,borderRadius:"25%",position:"absolute",border:function(e){return"solid 3px ".concat(Object(R.a)(e.palette.primary.dark,.24))}}}),Object(N.jsx)(z.a,{component:P.a.div,animate:{scale:[1,1.2,1.2,1,1],rotate:[0,270,270,0,0],opacity:[1,.25,.25,.25,1],borderRadius:["25%","25%","50%","50%","25%"]},transition:{ease:"linear",duration:3.2,repeat:1/0},sx:{width:120,height:120,borderRadius:"25%",position:"absolute",border:function(e){return"solid 8px ".concat(Object(R.a)(e.palette.primary.dark,.24))}}}),"uploading data...."]})})}var M=["men","women","kids"],T=Object(p.a)(g.a)((function(e){var t=e.theme;return Object(c.a)(Object(c.a)({},t.typography.subtitle2),{},{color:t.palette.text.secondary,marginBottom:t.spacing(1)})}));function A(e){var t=e.isEdit,a=e.currentProduct,i=Object(S.e)((function(e){return e.category})),p=i.categories,g=i.userCategories,P=i.tags,R=i.sizes,z=Object(u.g)(),L=Object(l.b)().enqueueSnackbar,B=["image/jpeg","image/jpg","image/png"],A=s.e().shape({name:s.g().required("Name is required"),description:s.g().required("Description is required"),subImages:s.a().min(1,"Sub images is required"),coverImage:s.c().test("fileSize","No file selected or file too large",(function(e){return null===e||e&&e.size<10485760})).test("fileFormat","Unsupported file type",(function(e){return null===e||e&&e&&B.includes(e.type)})),salePrice:s.d().moreThan(0,"Price should not be $0.00"),price:s.d().moreThan(0,"Price should not be $0.00")}),U=s.e().shape({salePrice:s.d().moreThan(0,"Price should not be $0.00"),price:s.d().moreThan(0,"Price should not be $0.00")}),E=Object(d.useMemo)((function(){return{video:(null===a||void 0===a?void 0:a.video)||"",name:(null===a||void 0===a?void 0:a.name)||"",description:(null===a||void 0===a?void 0:a.description)||"",coverImage:(null===a||void 0===a?void 0:a.coverImage)||"",subImages:(null===a||void 0===a?void 0:a.subImages)||[],code:(null===a||void 0===a?void 0:a.code)||"",sku:(null===a||void 0===a?void 0:a.sku)||"",price:(null===a||void 0===a?void 0:a.price)||0,priceSale:(null===a||void 0===a?void 0:a.priceSale)||0,tags:(null===a||void 0===a?void 0:a.tags)||[],inStock:a.inStock,taxes:a.taxes,gender:(null===a||void 0===a?void 0:a.gender)||M[2],category:(null===a||void 0===a?void 0:a.category)||"",weight:(null===a||void 0===a?void 0:a.weight)||0,sizes:(null===a||void 0===a?void 0:a.sizes)||[],colors:a.colors,userCategory:(null===a||void 0===a?void 0:a.userCategory)||"",state:"active"===a.state}}),[a]),q=Object(b.f)({resolver:Object(j.a)(t?U:A),defaultValues:E}),F=(q.reset,q.watch),$=q.control,V=q.setValue,H=q.getValues,W=q.handleSubmit,_=(q.formState.isSubmitting,F()),G=Object(d.useState)(!1),J=Object(n.a)(G,2),K=J[0],Y=J[1],Q=function(){var e=Object(r.a)(o.a.mark((function e(){var r,n,c,i,s,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Y(!0),r=new FormData,n=new FormData,c=new FormData,!1,i=!1,s=!1,_.coverImage instanceof Object&&(n.append("coverImage",_.coverImage),i=!0),_.video instanceof Object&&(r.append("video",_.video),!0),_.subImages[0]instanceof Object&&(_.subImages.forEach((function(e){c.append("subImages",e)})),s=!0),c.append("subImages",_.subImages),_.video="",_.coverImage="",_.subImages=[],t&&(_._id=a._id),e.next=18,C.a.post("/api/product/upload",_);case 18:if(l=e.sent,!(u=l.data.product)){e.next=31;break}if(!i){e.next=26;break}return n.append("product",u),e.next=25,C.a.post("/api/product/upload/coverImage",n);case 25:l=e.sent;case 26:if(!s){e.next=31;break}return c.append("product",u),e.next=30,C.a.post("/api/product/upload/subImages",c);case 30:l=e.sent;case 31:Y(!1),L(t?"Update progress is successed!":"Create progress is successed!"),z(w.a.profile.product),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(0),console.error(e.t0),Y(!1);case 40:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(){return e.apply(this,arguments)}}(),X=Object(d.useCallback)((function(e){var t=e[0];t&&V("coverImage",Object.assign(t,{preview:URL.createObjectURL(t)}))}),[V]),Z=Object(d.useCallback)((function(e){V("subImages",e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[V]),ee=Object(d.useState)([{group:"",classify:[]}]),te=Object(n.a)(ee,2),ae=te[0],re=te[1],ne=[];return Object(d.useEffect)((function(){var e={group:""};p.forEach((function(t,a){t.group!==e.group?(e=t,ne.push({group:t.group,classify:[{value:t.classify,key:t.key}]})):ne.forEach((function(e,a){e.group===t.group&&e.classify.push({value:t.classify,key:t.key})}))})),ne.length>0&&re(ne)}),[]),Object(N.jsxs)(N.Fragment,{children:[K&&Object(N.jsx)(D,{}),Object(N.jsx)(I.a,{methods:q,onSubmit:W(Q),children:Object(N.jsxs)(h.a,{container:!0,spacing:3,children:[Object(N.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(N.jsxs)(O.a,{sx:{p:3},children:[Object(N.jsxs)(x.a,{spacing:3,children:[Object(N.jsx)(I.h,{name:"name",label:"Product Name"}),Object(N.jsxs)("div",{children:[Object(N.jsx)(T,{children:"Description"}),Object(N.jsx)(I.c,{simple:!0,name:"description"})]})]}),Object(N.jsxs)(x.a,{spacing:3,children:[Object(N.jsxs)("div",{children:[Object(N.jsx)(T,{children:"Description Video"}),Object(N.jsx)(I.k,{name:"video",showPreview:!0,accept:"video/*",maxSize:3145728,onDrop:X})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)(T,{children:"Cover Image"}),Object(N.jsx)(I.k,{name:"coverImage",showPreview:!0,accept:"image/*",maxSize:3145728,onDrop:X})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)(T,{children:"Sub Images"}),Object(N.jsx)(I.j,{name:"subImages",showPreview:!0,accept:"image/*",maxSize:3145728,onDrop:Z,onRemove:function(e){var t,a=null===(t=_.subImages)||void 0===t?void 0:t.filter((function(t){return t!==e}));V("subImages",a)},onRemoveAll:function(){V("subImages",[])}})]})]})]})}),Object(N.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(N.jsxs)(x.a,{spacing:3,children:[Object(N.jsxs)(O.a,{sx:{p:3},children:[Object(N.jsx)(I.g,{name:"inStock",label:"In stock"}),Object(N.jsxs)(x.a,{spacing:3,mt:2,children:[Object(N.jsx)(I.h,{name:"code",label:"Product Code"}),Object(N.jsx)(I.h,{name:"sku",label:"Product SKU"}),Object(N.jsxs)("div",{children:[Object(N.jsx)(T,{children:"Gender"}),Object(N.jsx)(I.e,{name:"gender",options:M,sx:{"& .MuiFormControlLabel-root":{mr:4}}})]}),Object(N.jsx)(I.f,{name:"category",label:"HHU Category",children:ae.length>0&&ae.map((function(e){return Object(N.jsx)("optgroup",{label:e.group,children:e.classify.map((function(e){return Object(N.jsx)("option",{value:e.key,children:e.value},e.key)}))},e.group)}))}),Object(N.jsxs)(I.f,{name:"userCategory",label:"User Store Category",children:[Object(N.jsx)("option",{value:"",children:"\xa0"},""),g.length>0&&g.map((function(e){return Object(N.jsx)("option",{value:e.classify,children:e.classify},e.key)}))]}),Object(N.jsx)(b.a,{name:"tags",control:$,render:function(e){var t=e.field;return Object(N.jsx)(f.a,Object(c.a)(Object(c.a)({},t),{},{multiple:!0,freeSolo:!0,onChange:function(e,a){return t.onChange(a)},options:P.map((function(e){return e.name})),renderTags:function(e,t){return e.map((function(e,a){return Object(d.createElement)(v.a,Object(c.a)(Object(c.a)({},t({index:a})),{},{key:e,size:"small",label:e}))}))},renderInput:function(e){return Object(N.jsx)(y.a,Object(c.a)({label:"Tags"},e))}}))}})]})]}),Object(N.jsxs)(O.a,{sx:{p:3},children:[Object(N.jsxs)(x.a,{spacing:3,mb:2,children:[Object(N.jsx)(I.h,{name:"price",label:"Regular Price",placeholder:"0.00",value:0===H("price")?"":H("price"),onChange:function(e){return V("price",Number(e.target.value))},InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(N.jsx)(k.a,{position:"start",children:"$"}),type:"number"}}),Object(N.jsx)(I.h,{name:"priceSale",label:"Sale Price",placeholder:"0.00",value:0===H("priceSale")?"":H("priceSale"),onChange:function(e){return V("priceSale",Number(e.target.value))},InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(N.jsx)(k.a,{position:"start",children:"$"}),type:"number"}})]}),Object(N.jsx)(I.g,{name:"taxes",label:"Price includes taxes"})]}),Object(N.jsxs)(O.a,{sx:{p:3},children:[Object(N.jsxs)(x.a,{spacing:3,mb:2,children:[Object(N.jsx)(b.a,{name:"sizes",control:$,render:function(e){var t=e.field;return Object(N.jsx)(f.a,Object(c.a)(Object(c.a)({},t),{},{multiple:!0,freeSolo:!0,onChange:function(e,a){return t.onChange(a)},options:R.map((function(e){return e.name})),renderTags:function(e,t){return e.map((function(e,a){return Object(d.createElement)(v.a,Object(c.a)(Object(c.a)({},t({index:a})),{},{key:e,size:"small",label:e}))}))},renderInput:function(e){return Object(N.jsx)(y.a,Object(c.a)({label:"Size Of Product"},e))}}))}}),Object(N.jsx)(I.h,{name:"weight",label:"Weight of Product",placeholder:"0.00",value:0===H("weight")?"":H("weight"),onChange:function(e){return V("weight",Number(e.target.value))},InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(N.jsx)(k.a,{position:"start",children:"Kg"}),type:"number"}})]}),Object(N.jsx)(I.g,{name:"colors",label:"Product contains other colors"}),Object(N.jsx)(I.g,{name:"state",label:"Active this Product"})]}),Object(N.jsx)(m.a,{type:"submit",variant:"contained",size:"large",loading:K,children:t?"Save Changes":"Create Product"})]})})]})})]})}}}]);
//# sourceMappingURL=13.a9984bf2.chunk.js.map